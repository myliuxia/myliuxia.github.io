<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript基础——变量和类型 | 个人的博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="刘夏的个人博客">
    <link rel="preload" href="/assets/css/0.styles.b2bcbf0f.css" as="style"><link rel="preload" href="/assets/js/app.61c6fabb.js" as="script"><link rel="preload" href="/assets/js/3.9f5480b8.js" as="script"><link rel="preload" href="/assets/js/16.e7e70e6c.js" as="script"><link rel="preload" href="/assets/js/7.795a4e82.js" as="script"><link rel="prefetch" href="/assets/js/10.2d4ebb06.js"><link rel="prefetch" href="/assets/js/11.67c2c25e.js"><link rel="prefetch" href="/assets/js/12.760e412a.js"><link rel="prefetch" href="/assets/js/13.c9016c74.js"><link rel="prefetch" href="/assets/js/14.953cac88.js"><link rel="prefetch" href="/assets/js/15.3d5a8940.js"><link rel="prefetch" href="/assets/js/17.be0a4bfc.js"><link rel="prefetch" href="/assets/js/18.2330b269.js"><link rel="prefetch" href="/assets/js/19.ec5fe80e.js"><link rel="prefetch" href="/assets/js/20.d1bc18e4.js"><link rel="prefetch" href="/assets/js/21.5de2fed3.js"><link rel="prefetch" href="/assets/js/22.ff182f6b.js"><link rel="prefetch" href="/assets/js/23.bd68afd2.js"><link rel="prefetch" href="/assets/js/24.5894c309.js"><link rel="prefetch" href="/assets/js/25.788d04a2.js"><link rel="prefetch" href="/assets/js/26.b845a3ff.js"><link rel="prefetch" href="/assets/js/27.3a1f53c2.js"><link rel="prefetch" href="/assets/js/28.666436c9.js"><link rel="prefetch" href="/assets/js/29.a1693985.js"><link rel="prefetch" href="/assets/js/30.f20ffd28.js"><link rel="prefetch" href="/assets/js/31.562b6208.js"><link rel="prefetch" href="/assets/js/32.1775271a.js"><link rel="prefetch" href="/assets/js/33.1e304896.js"><link rel="prefetch" href="/assets/js/4.f58d7f67.js"><link rel="prefetch" href="/assets/js/5.f80973b8.js"><link rel="prefetch" href="/assets/js/6.e5d08169.js"><link rel="prefetch" href="/assets/js/8.0aa59495.js"><link rel="prefetch" href="/assets/js/9.312aa46c.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.1a4ac135.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b2bcbf0f.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="header-wrapper"><div class="header-content"><a href="/" class="left router-link-active"><div class="logo-image"><img src="/avatar.png" alt="个人的博客"></div> <span class="logo-title">个人的博客</span></a> <div class="right"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <div><nav class="pc-nav-links"><div class="nav-item"><span exact="true" class="nav-link">首页</span></div><div class="nav-item"><span class="nav-link">分类</span></div><div class="nav-item"><span class="nav-link">标签</span></div><div class="nav-item"><span class="nav-link">关于</span></div><div class="nav-item"><span class="nav-link">归档</span></div> <!----></nav> <div class="mobile-nav"><div class="nav-icon"><i class="icon-toc"></i></div></div> <div class="nav-drawer"><ul class="drawer-menu-list"><li class="drawer-menu-item"><span exact="true" class="nav-link">首页</span></li><li class="drawer-menu-item"><span class="nav-link">分类</span></li><li class="drawer-menu-item"><span class="nav-link">标签</span></li><li class="drawer-menu-item"><span class="nav-link">关于</span></li><li class="drawer-menu-item"><span class="nav-link">归档</span></li></ul></div> <div class="nav-mask" style="display:none;"></div></div></div></div></header> <div class="theme-main"><div class="theme-main__inner post"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting"><header class="article__header"><h1 itemprop="name headline" class="post-title">
          JavaScript基础——变量和类型
        </h1> <div class="post-meta"><!----> <div class="post-meta__date"><i class="icon-calendar"></i> <time pubdate itemprop="datePublished" datetime="2022-11-11T16:21:08.000Z">
      2022-11-11
    </time></div> <div class="post-meta__cates"><i class="icon-cate"></i> <a href="/categories/技术/">
      技术
    </a></div> <!----></div></header> <div class="article-con"><div itemprop="articleBody" class="article-content content__default"><blockquote><p>总结前端工程师需要掌握的Javascript基础知识点
</p></blockquote> <h1 id="变量和类型"><a href="#变量和类型" class="header-anchor">#</a> 变量和类型</h1> <h2 id="_1、javascript规定了几种数据类型"><a href="#_1、javascript规定了几种数据类型" class="header-anchor">#</a> 1、JavaScript规定了几种数据类型</h2> <p>目前JS数据类型总共有8种: <strong>Number</strong>、<strong>String</strong>、<strong>Boolean</strong>、<strong>Object</strong>、<strong>null</strong>、<strong>undefined</strong>、<strong>Symbol</strong>、<strong>BigInt</strong></p> <p>其中 <code>Symbol</code> 是<code>ES6</code>新增的一种数据类型。</p> <p><code>BigInt</code>则是谷歌67版本中还出现了一种数据类型，是指安全存储、操作大整数。</p> <h2 id="_2、javascript-对象的底层数据结构是什么"><a href="#_2、javascript-对象的底层数据结构是什么" class="header-anchor">#</a> 2、JavaScript 对象的底层数据结构是什么</h2> <h3 id="先介绍下语言中所有的底层存储方式"><a href="#先介绍下语言中所有的底层存储方式" class="header-anchor">#</a> 先介绍下语言中所有的底层存储方式</h3> <ul><li><p>数组（Array）
<code>数组</code>是一种聚合数据类型，它是将具有相同类型的若干变量有序的组织在一起的集合。数组可以说是最基础的数据结构，在各种编程语言中都有对应。一个数组可以分解为多个数组元数，按照数据元素的类型，数组可以分为整型数组、字符型数组、浮点型数组、指针数组和结构数组等。数组也可以有一维、二维和多维等表现形式。</p></li> <li><p>栈（Stack）
<code>栈</code>是一种特殊的<code>线性表</code>，它只能在一个表的一个固定端进行数据结点的插入和删除操作。栈按照<code>后进先出</code>的原则来存储数据，也就是说，先插入的数据将被压入栈底，最后插入的数据在栈顶。读取数据时，从栈顶开始逐个读取。</p></li> <li><p>队列（Queue）
<code>队列</code>和栈类似，也是一种特殊的线性表。和栈不同的是，队列是按照<code>先进先出</code>的原则来存储数据。队列中只允许在一端插入数据，而在另一端进行删除操作。</p></li> <li><p>链表（Linked List）
<code>链表</code>是一种数据元素按照链式存储结构进行存储的数据结构，这种存储结构具有在物理上存在非连续的特点。链表由一系列数据结点构成，每个数据结点包括数据域和指针域两个部分。其中，指针域保存了下一个数据存放的地址。链表结构中数据元数的逻辑顺序是通过链表中指针链接次序来实现的。</p></li> <li><p>树（tree）
<code>树</code>是典型的非线性结构，它是包含2个节点的有穷集合。在树结构中，有且仅有一个根结点，该结点没有前驱结点。在树结构中的其他结点都有且仅有一个前驱结点，而且可以有两个后继结点。</p></li> <li><p>图（Graph）
<code>图</code>是另一种非线性数据结构。在图结构中，数据结点一般称为顶点，而边是顶点的有序偶对。如果两个顶点之间存在一条边，那么就表示这两个顶点具有相邻关系。</p></li> <li><p>堆（Heap）
<code>堆</code>是一种特殊的树形数据结构，一般讨论的堆都是二叉树。堆的特点是根结点的值是所有结点中最小的或者最大大，并且根结点的两个子树也是一个堆结构</p></li> <li><p>散列表（Hash）
散列表源于<code>散列函数</code>（Hash Function），其思想是如果在结构中存在关键词和T相等的记录，那么必定在F(T)的存储位置可以周到该记录，这样就可以部用进行比较操作而直接取得所有记录。</p></li></ul> <h3 id="javascript中使用的数据存储方式是堆-heap-和-栈-stack"><a href="#javascript中使用的数据存储方式是堆-heap-和-栈-stack" class="header-anchor">#</a> JavaScript中使用的数据存储方式是<code>堆（Heap）</code> 和 <code>栈（Stack）</code></h3> <p><code>JavaScript基本类型数据</code>都是直接按值存储在栈中的（<code>Undefined</code>、<code>Null</code>、不是<code>new</code>出来的<code>布尔</code>、<code>Number</code>和<code>String</code>）,每种类型的数据占用的内存空间的大小是确定的，并由系统自动分配和自动释放。这样带来的好处就是，内存可以及时得到回收，相对于堆来说，更加容易管理内存空间。</p> <p><code>JavaScript引用类型数据</code>被存储于堆中（如<code>对象</code>、<code>数组</code>、<code>函数</code>等。它们是通过拷贝和<code>new</code>出来的）。但说是存储在堆中也不太准确，因为引用类型的数据的地址指针是存储于栈中的，当我们想要访问应用类型值的时候，需要先从栈中获得对象的地址指针，然后通过指针找到堆中所需的数据。</p> <h2 id="_3、symbol类型在实际开发中的应用、可手动实现一个简单的symbol"><a href="#_3、symbol类型在实际开发中的应用、可手动实现一个简单的symbol" class="header-anchor">#</a> 3、<code>Symbol</code>类型在实际开发中的应用、可手动实现一个简单的<code>Symbol</code></h2> <p><code>Symbol</code>是<code>ES6</code>新出的一种数据类型，可以简单理解为唯一的量，独一无二的值。在实际开发中我们主要在一下地方应用：</p> <ul><li><p>作为对象的key属性，防止对象属性被从写</p></li> <li><p>Symbol类型可以用住私有变量</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>
  <span class="token function">construct</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> n
  <span class="token punctuation">}</span>
  <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用闭包主要是保护这个Symbol，它无法直接在闭包外面访问。这样除了使用<code>Object.getOwnpropertySymbols（）</code>之外我们无法访问<code>this[name]</code>属性，基本可以认为是私有的。</p></li> <li><p>定义一组常量，保证这组常量的值都是不相等的</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token constant">COLOR_RED</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">COLOR_GREEN</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">getComplement</span><span class="token punctuation">(</span><span class="token parameter">color</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token constant">COLOR_RED</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token constant">COLOR_GREEN</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token string">'green'</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Undefined color'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>常量使用 Symbol 值最大的好处，就是其他任何值都不可能有相同的值了，因此可以保证上面的switch语句会按设计的方式工作。</p></li></ul> <h2 id="_4、基本类型对应的内置对象-以及他们之间的装箱拆箱操作"><a href="#_4、基本类型对应的内置对象-以及他们之间的装箱拆箱操作" class="header-anchor">#</a> 4、基本类型对应的内置对象，以及他们之间的装箱拆箱操作</h2> <h3 id="内置对象"><a href="#内置对象" class="header-anchor">#</a> 内置对象：</h3> <p><code>Object</code>是 <code>JavaScript</code> 中所有对象的父对象 数据封装类对象：<code>Object</code>、<code>Array</code>、<code>Boolean</code>、<code>Number</code> 和 <code>String</code> 其他对象：<code>Function</code>、<code>Math</code>、<code>Date</code>、<code>RegExp</code>、<code>Error</code>。</p> <p>特殊的基本包装类型(<code>String</code>、<code>Number</code>、<code>Boolean</code>)</p> <p><code>arguments</code>: 只存在于函数内部的一个类数组对象</p> <h3 id="装箱和拆箱"><a href="#装箱和拆箱" class="header-anchor">#</a> 装箱和拆箱</h3> <p>引用类型有个特殊的基本包装类型，它包括String、Number和Boolean。
作为字符串的a可以调用方法</p> <p><strong>装箱：</strong>
把基本数据类型转化为对应的引用数据类型的操作**，装箱分为隐式装箱和显示装箱</p> <div class="language- extra-class"><pre class="language-text"><code>在《javascript高级程序设计》中有这样一句话：每当读取一个基本类型的时候，后台就会创建一个对应的基本包装类型对象，从而让我们能够调用一些方法来操作这些数据。(隐式装箱)
</code></pre></div><p>隐式装箱：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">'sun'</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">indexof</span><span class="token punctuation">(</span><span class="token string">'s'</span><span class="token punctuation">)</span> <span class="token comment">// 返回下标</span>
<span class="token comment">// 上面代码在后台实际得步骤为：</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'sun'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">indexof</span><span class="token punctuation">(</span><span class="token string">'s'</span><span class="token punctuation">)</span>
a <span class="token operator">=</span> <span class="token number">0</span>
</code></pre></div><p>在上面的代码中，a是基本类型，它不是对象，不应该具有方法，js内部进行了一些列处理（装箱)， 使得它能够调用方法。在这个基本类型上调用方法，其实是在这个基本类型对象上调用方法。这个基本类型的对象是临时的，它只存在于方法调用那一行代码执行的瞬间，执行方法后立刻被销毁。</p> <p>显示装箱:
通过内置对象可以对Boolean、Object、String等可以对基本类型显示装箱</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'sun'</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>拆箱：</strong>
拆箱和装箱相反，就是把引用类型转化为基本类型的数据，通常通过引用类型的valueof()和toString（）方法实现</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> name <span class="token operator">=</span>　<span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'sun'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> name<span class="token punctuation">)</span> <span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> age<span class="token punctuation">)</span> <span class="token comment">// object</span>
<span class="token comment">// 拆箱操作</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> age<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// number</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> name<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// string</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> age<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// string</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> name<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// string</span>

</code></pre></div><h2 id="_5、null-和-undefined-的区别"><a href="#_5、null-和-undefined-的区别" class="header-anchor">#</a> 5、<code>null</code> 和 <code>undefined</code> 的区别</h2> <p><code>null</code>表示为空，代表此处不应该有值的存在，一个对象可以是null,代表是个空对象，而null本生也是对象。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">null</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span> <span class="token comment">// false</span>

<span class="token keyword">typeof</span> <span class="token keyword">null</span> <span class="token comment">// 'object'</span>
</code></pre></div><p><code>undefined</code> 表示【不存在】，JavaScript 是一门动态类型语言，成员除了表示存在的空值外，还有可能根本就不存在（因为存不存在只有在运行时才知道），这就是<code>undefined</code>存在的意义。</p> <h2 id="_6、至少可以说出三种判断javascript数据类型的方式-以及他们的优缺点-如何准确的判断数组类型"><a href="#_6、至少可以说出三种判断javascript数据类型的方式-以及他们的优缺点-如何准确的判断数组类型" class="header-anchor">#</a> 6、至少可以说出三种判断<code>JavaScript</code>数据类型的方式，以及他们的优缺点，如何准确的判断数组类型</h2> <ul><li><p>instanceof
判断对象和构造函数在原型链上是否有关系，如果有关系，返回真，否则返回假。故其对于引用类型的类型检测支持很好，但是无法对基本类型数据进行类型检测。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'123'</span> <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div></li> <li><p>typeof
可以对基本类型做出准确的判断，但对于引用类型，用它就有点力不从心了。
typeof 返回一个表示数据类型的字符串，返回结果包括：number、boolean、string、object、undefined、function等6种数据类型
注意：typeof  null会返回object，因为特殊值null被认为是一个空的对象引用</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// number</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token comment">// string</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// boolean</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token comment">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// symbol</span>
</code></pre></div></li> <li><p>Object.prototype.toString().call()
对于基本类型和引用类型都可以判断（除了自定义的类）</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 基本数据类型</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'[Object Number]'</span> <span class="token comment">// true</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'[Object Number]'</span> <span class="token comment">// true</span>

<span class="token comment">// 对象</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'[Object Object]'</span> <span class="token comment">// true</span>
<span class="token keyword">function</span> <span class="token function">abc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">abd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'[Object Object]'</span> <span class="token comment">// true</span>
<span class="token comment">// 数组</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'[Object Array]'</span> <span class="token comment">// true</span>
<span class="token comment">// 函数</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'[Object Function]'</span> <span class="token comment">// true</span>

</code></pre></div></li></ul> <h2 id="_7、可能发生隐式类型转换的场景以及转换原则-应如何避免或巧妙应用"><a href="#_7、可能发生隐式类型转换的场景以及转换原则-应如何避免或巧妙应用" class="header-anchor">#</a> 7、可能发生隐式类型转换的场景以及转换原则，应如何避免或巧妙应用</h2> <p>一般发生隐式类型转换存在两种场景中：</p> <ul><li>数学运算符</li> <li>逻辑语句中</li></ul> <h3 id="数学运算符"><a href="#数学运算符" class="header-anchor">#</a> 数学运算符</h3> <p><strong>减、乘、除</strong>：在对各种<code>非Number</code>类型运用数学运算符（- * /）时，会先将<code>非Number</code>类型转换为<code>Number</code>类型。例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token number">1</span> <span class="token operator">-</span> <span class="token boolean">true</span> <span class="token comment">// 0，先将 true 转换为数字 1，再执行 1 - 1</span>
<span class="token number">1</span> <span class="token operator">-</span> <span class="token keyword">null</span> <span class="token comment">// 1，先将 null 转换为数字 0，再执行 1 - 0</span>
<span class="token number">1</span> <span class="token operator">-</span> <span class="token keyword">undefined</span>  <span class="token comment">// NaN，undefined 转换为数字是 NaN</span>
<span class="token number">1</span> <span class="token operator">*</span> <span class="token punctuation">[</span><span class="token string">'5'</span><span class="token punctuation">]</span> <span class="token comment">// 5，['5']首先会变成'5',然后再变成数字 5</span>
</code></pre></div><p>其中如最后一个例子这样的，遇到引用类型的隐式转换会先掉用valueOf(),然后再调用toString()进行转换</p> <p><strong>加</strong>：它比较特殊，其隐式转换规则优先级如下：</p> <p>1、一侧为 String 类型时，另一侧会尽量转化成为字符串类型</p> <p>2、一侧为 Number 类型时，且另一侧为基本数据类型，则另一侧会尽量转换成 Number 类型</p> <p>3、一侧为 Number 类型，且另一侧为引用类型，会将它们俩都转换成 String 类型然后拼接</p> <p>4、两侧都是基本类型，且都不是 String，Number。则两侧都会尽量向 Number 类型去转换</p> <p>5、两侧都是引用类型，都转换成 String 类型然后拼接</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/*规则1*/</span>
<span class="token string">'123'</span> <span class="token operator">+</span> <span class="token number">12</span> <span class="token comment">// '12312'</span>
<span class="token string">'123'</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// '123'</span>

<span class="token comment">/*规则2*/</span>
<span class="token number">123</span> <span class="token operator">+</span> <span class="token boolean">true</span> <span class="token comment">// 124</span>
<span class="token number">123</span> <span class="token operator">+</span> <span class="token boolean">false</span> <span class="token comment">// 123</span>
<span class="token number">123</span> <span class="token operator">+</span> <span class="token keyword">null</span> <span class="token comment">// 123</span>
<span class="token number">123</span> <span class="token operator">+</span> <span class="token keyword">undefined</span> <span class="token comment">// NaN</span>
<span class="token number">123</span> <span class="token operator">+</span> <span class="token string">'123'</span>

<span class="token comment">/*规则3*/</span>
<span class="token number">123</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// '123'</span>
<span class="token number">123</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span> <span class="token comment">// '12312'</span>
<span class="token number">123</span> <span class="token operator">+</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// '123[object Object]'</span>

<span class="token comment">/*规则4*/</span>
<span class="token boolean">true</span> <span class="token operator">+</span> <span class="token keyword">null</span> <span class="token comment">// 1</span>
<span class="token keyword">undefined</span> <span class="token operator">+</span> <span class="token keyword">null</span> <span class="token comment">// NaN</span>

<span class="token comment">/*规则5*/</span>
<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span> <span class="token comment">// '[object Object]12'</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// ''</span>
</code></pre></div><h3 id="逻辑语句中的类型转换"><a href="#逻辑语句中的类型转换" class="header-anchor">#</a> 逻辑语句中的类型转换</h3> <p>逻辑语句包含：if(xxx)、while(xxx)和for循环中的判断，还有就是||、&amp;&amp;</p> <p><strong>单个变量 （也就是没有 == 的时候）</strong></p> <p>如果只有单个变量，会先将变量转换为Boolean值。(其实逻辑运算符也是单个单个地判断变量的)</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token boolean">true</span> <span class="token comment">// false， 左边 0 优先转换为 false，然后因为是 &amp;&amp; 所有就不用看后面的了</span>
<span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> <span class="token boolean">true</span> <span class="token comment">// true, 左边 '0'优先转换为 true,然后因为是 &amp;&amp; 继续往后看是true，所以最终结构true</span>
<span class="token number">0</span> <span class="token operator">||</span> <span class="token boolean">false</span> <span class="token comment">// false, 左边 0 优先转换为 false，然后因为是 || 继续往后看是false, 所以最终结构false</span>
<span class="token string">'0'</span> <span class="token operator">||</span> <span class="token boolean">false</span> <span class="token comment">// true, 左边 '0'优先转换为 true,然后因为是 || 所有就不用看后面的了</span>
</code></pre></div><p><strong>使用 == 比较 （===不会存在类型转换）</strong></p> <p>1、NaN和其他任何类型比较永远返回 false（包括和他自己）</p> <p>2、Boolean 和其他任何类型比较，Boolean 首先被转换为 Number 类型。</p> <p>3、String和Number比较，先将String转换为Number类型。</p> <p>4、null == undefined比较结果是true，除此之外，null、undefined和其他任何结果的比较值都为false。</p> <p>5、基本类型和引用类型做比较时，引用类型会依照ToPrimitive规则转换为基本类型（调用先valueOf然后调用toString）。如果还是没法得到一个基本类型，就会抛出 TypeError。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/**规则1**/</span>
<span class="token number">NaN</span> <span class="token operator">==</span> <span class="token number">NaN</span> <span class="token comment">// false</span>

<span class="token comment">/**规则2**/</span>
<span class="token boolean">true</span> <span class="token operator">==</span> <span class="token number">1</span>  <span class="token comment">// true </span>
<span class="token boolean">true</span> <span class="token operator">==</span> <span class="token string">'2'</span>  <span class="token comment">// false, 先把 true 变成 1，而不是把 '2' 变成 true</span>
<span class="token boolean">true</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">]</span>  <span class="token comment">// true, 先把 true 变成 1， ['1']拆箱成 '1', 再参考规则3</span>
<span class="token boolean">true</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token string">'2'</span><span class="token punctuation">]</span>  <span class="token comment">// false, 同上</span>
<span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// false ，首先 false 变成 0，然后参考规则4</span>
<span class="token keyword">null</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// false，同上</span>

<span class="token comment">/**规则3**/</span>
<span class="token number">123</span> <span class="token operator">==</span> <span class="token string">'123'</span> <span class="token comment">// true, '123' 会先变成 123</span>
<span class="token string">''</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token comment">// true, ''&quot; 会首先变成 0</span>

<span class="token comment">/**规则4**/</span>
<span class="token keyword">null</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token comment">//false, 虽然null有些时候会隐式转换成 0. 但这里是不相等的！</span>
<span class="token keyword">null</span> <span class="token operator">==</span> <span class="token keyword">undefined</span> <span class="token comment">//true</span>
<span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// false</span>
<span class="token keyword">undefined</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// false</span>

<span class="token comment">/**规则5**/</span>
<span class="token string">'[object Object]'</span> <span class="token operator">==</span> <span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span>  <span class="token comment">// true, 对象和字符串比较，对象通过 toString 得到一个基本类型值</span>
<span class="token string">'1,3'</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>  <span class="token comment">// true ，同上</span>
</code></pre></div><h2 id="_8、出现小数精度丢失的原因-javascript可以存储的最大数字、最大安全数字-javascript处理大数字的方法、避免精度丢失的方法"><a href="#_8、出现小数精度丢失的原因-javascript可以存储的最大数字、最大安全数字-javascript处理大数字的方法、避免精度丢失的方法" class="header-anchor">#</a> 8、出现小数精度丢失的原因，<code>JavaScript</code>可以存储的最大数字、最大安全数字，<code>JavaScript</code>处理大数字的方法、避免精度丢失的方法</h2> <ul><li><p><strong>出现小数精度丢失的原因：</strong></p> <p>在ECMAScript数据类型中的Number类型是使用IEEE-754（一种二进制表示法）格式来表示的整数和浮点数值。而IEEE-754数值的浮点运算时出现参数舍入误差问题，即出现小数精度丢失。</p></li> <li><p><strong>JavaScript可以存储的最大数字以及最大安全数字:</strong></p> <p>最大数字是Number.MAX_VALUE、最大安全数字是Number.MAX_SAFE_INTEGER。Number.MAX_VALUE大于Number.MAX_SAFE_INTEGER，我的理解是js可以精确表示最大安全数字以内的数，超过了最大安全数字但没超过最大数字可以表示，但不精确，如果超过了最大数字，则这个数值会自动转换成特殊的Infinity值。</p> <p>由于内存的限制，ECMAScript并不能保存世界上所有的数值，ECMAScript能够表示的最小数值是Number.MIN_VALUE，能够表示的最大数值是Number.MAX_VALUE。超过数值是正值，则被转成Infinity（正无穷），如果是负值则被转成-Infinity（负无穷）。如果在某次返回了正或负的Infinity值，那么该值将无法继续参与下一次的计算，所以我们需要确定一个数值是不是有穷的，即是不是位于最小和最大的数值之间，可以使用isFinite()函数，如果该函数参数在最小和最大数值之间时会返回true。注意，如果参数类型不是数值，Number.isFinite一律返回false。</p> <p>JavaScript 能够准确表示的整数范围在-2^53到2^53之间（不含两个端点），超过这个范围，无法精确表示这个值。ES6 引入了Number.MAX_SAFE_INTEGER和Number.MIN_SAFE_INTEGER这两个常量，用来表示这个范围的上下限。Number.isSafeInteger()则是用来判断一个整数是否落在这个范围之内。</p></li></ul></div></div> <div class="article-footer"><ul class="post-tag"><li class="post-tag__item"><a href="/tags/JavaScript"><span># JavaScript</span></a></li></ul> <div class="post-operate"><a href="/pages/489ccc/" class="post-operate__prev">WebGL入门 -- 认识WebGL</a> <a href="/pages/3c54f0/" class="post-operate__next">JavaScript基础——原型和原型链</a></div></div></article></div></div> <svg style="display:none;"><symbol id="theme-icon-auto" viewBox="0 0 32 32"><path d="M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM4 16c0-6.627 5.373-12 12-12v24c-6.627 0-12-5.373-12-12z"></path></symbol> <symbol id="theme-icon-sun" viewBox="0 0 32 32"><path d="M16 26c1.105 0 2 0.895 2 2v2c0 1.105-0.895 2-2 2s-2-0.895-2-2v-2c0-1.105 0.895-2 2-2zM16 6c-1.105 0-2-0.895-2-2v-2c0-1.105 0.895-2 2-2s2 0.895 2 2v2c0 1.105-0.895 2-2 2zM30 14c1.105 0 2 0.895 2 2s-0.895 2-2 2h-2c-1.105 0-2-0.895-2-2s0.895-2 2-2h2zM6 16c0 1.105-0.895 2-2 2h-2c-1.105 0-2-0.895-2-2s0.895-2 2-2h2c1.105 0 2 0.895 2 2zM25.899 23.071l1.414 1.414c0.781 0.781 0.781 2.047 0 2.828s-2.047 0.781-2.828 0l-1.414-1.414c-0.781-0.781-0.781-2.047 0-2.828s2.047-0.781 2.828 0zM6.101 8.929l-1.414-1.414c-0.781-0.781-0.781-2.047 0-2.828s2.047-0.781 2.828 0l1.414 1.414c0.781 0.781 0.781 2.047 0 2.828s-2.047 0.781-2.828 0zM25.899 8.929c-0.781 0.781-2.047 0.781-2.828 0s-0.781-2.047 0-2.828l1.414-1.414c0.781-0.781 2.047-0.781 2.828 0s0.781 2.047 0 2.828l-1.414 1.414zM6.101 23.071c0.781-0.781 2.047-0.781 2.828 0s0.781 2.047 0 2.828l-1.414 1.414c-0.781 0.781-2.047 0.781-2.828 0s-0.781-2.047 0-2.828l1.414-1.414z"></path> <path d="M16 8c-4.418 0-8 3.582-8 8s3.582 8 8 8c4.418 0 8-3.582 8-8s-3.582-8-8-8zM16 21c-2.761 0-5-2.239-5-5s2.239-5 5-5 5 2.239 5 5-2.239 5-5 5z"></path></symbol> <symbol id="theme-icon-moon" viewBox="0 0 18 18"><path d="M7.246 3.255c-0.251 0.828-0.322 1.71-0.198 2.597 0.366 2.63 2.455 4.723 5.080 5.089 0.282 0.040 0.568 0.060 0.85 0.060 0.599 0 1.184-0.087 1.742-0.257-0.674 2.215-2.642 3.926-4.973 4.21-0.254 0.031-0.51 0.047-0.762 0.047-1.713 0-3.349-0.738-4.486-2.024-1.152-1.304-1.669-2.987-1.457-4.739 0.284-2.335 1.992-4.307 4.204-4.982zM8.985 1c-0.362 0-0.731 0.024-1.104 0.075-3.543 0.48-6.388 3.364-6.82 6.92-0.592 4.867 3.184 9.005 7.924 9.005 0.33 0 0.665-0.020 1.003-0.062 3.549-0.433 6.428-3.283 6.907-6.833 0.052-0.383 0.076-0.761 0.075-1.134-0.002-0.583-0.482-0.972-0.996-0.972-0.209 0-0.424 0.065-0.614 0.207-0.665 0.498-1.489 0.793-2.383 0.793-0.188 0-0.38-0.013-0.574-0.040-1.732-0.242-3.137-1.649-3.378-3.385-0.155-1.115 0.149-2.156 0.751-2.963 0.415-0.657 0.025-1.609-0.764-1.612-0.009 0-0.018 0-0.028 0v0z"></path></symbol> <symbol id="theme-icon-palette" viewBox="0 0 1024 1024"><path d="M745.984 512q25.984 0 45.013333-18.005333t18.986667-45.994667-18.986667-45.994667-45.013333-18.005333-45.013333 18.005333-18.986667 45.994667 18.986667 45.994667 45.013333 18.005333zM617.984 342.016q25.984 0 45.013333-18.986667t18.986667-45.013333-18.986667-45.013333-45.013333-18.986667-45.013333 18.986667-18.986667 45.013333 18.986667 45.013333 45.013333 18.986667zM406.016 342.016q25.984 0 45.013333-18.986667t18.986667-45.013333-18.986667-45.013333-45.013333-18.986667-45.013333 18.986667-18.986667 45.013333 18.986667 45.013333 45.013333 18.986667zM278.016 512q25.984 0 45.013333-18.005333t18.986667-45.994667-18.986667-45.994667-45.013333-18.005333-45.013333 18.005333-18.986667 45.994667 18.986667 45.994667 45.013333 18.005333zM512 128q157.994667 0 271.018667 100.010667t112.981333 242.005333q0 88.021333-63.018667 150.016t-150.997333 61.994667l-73.984 0q-27.989333 0-45.994667 18.986667t-18.005333 45.013333q0 22.016 16 41.984t16 43.989333q0 27.989333-18.005333 45.994667t-45.994667 18.005333q-160 0-272-112t-112-272 112-272 272-112z" p-id="10529"></path></symbol> </svg></div><div class="global-ui"><div class="float-menu-wrap"><!----> <div class="float-menu__list"><span class="icon-up"></span> <span class="theme-mode-setting"><svg class="theme-icon theme-icon-sun"><use xlink:href="#theme-icon-sun"></use></svg></span> <!----> <span class="icon-toc"></span> <span class="icon-search"></span></div> <div class="float-menu"><svg width="100%" height="100%" class="float-menu__progress"><circle stroke-dasharray="0% 301.59289474462014%" stroke="currentcolor" stroke-width="2%" fill="none" r="48%" cx="50%" cy="50%"></circle></svg> <div class="float-menu__dot"></div></div></div><div class="theme-search" style="display:none;"><div class="theme-search__inner"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <a class="icon-exit"></a></div></div></div></div>
    <script src="/assets/js/app.61c6fabb.js" defer></script><script src="/assets/js/3.9f5480b8.js" defer></script><script src="/assets/js/16.e7e70e6c.js" defer></script><script src="/assets/js/7.795a4e82.js" defer></script>
  </body>
</html>